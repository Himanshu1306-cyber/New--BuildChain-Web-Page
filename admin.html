<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | BuildChain</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #f39c12; --bg: #0a0a0a; --card: #1a1a1a; }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: var(--bg); color: white; }
        
        .header { background: #000; padding: 20px; text-align: center; border-bottom: 2px solid var(--primary); }
        .header h1 { font-family: 'Orbitron'; color: var(--primary); margin: 0; }

        .admin-container { display: flex; flex-wrap: wrap; gap: 20px; padding: 30px; }
        
        /* Table Section */
        .table-section { flex: 2; min-width: 600px; background: var(--card); padding: 20px; border-radius: 15px; border: 1px solid #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th { background: #000; color: var(--primary); padding: 12px; text-align: left; font-family: 'Orbitron'; font-size: 13px; }
        td { padding: 12px; border-bottom: 1px solid #333; font-size: 14px; }
        
        /* Chart Section */
        .chart-section { flex: 1; min-width: 300px; background: var(--card); padding: 20px; border-radius: 15px; border: 1px solid var(--primary); }

        /* Buttons */
        .hash-btn { background: rgba(243, 156, 18, 0.1); border: 1px solid var(--primary); color: var(--primary); padding: 5px 10px; border-radius: 5px; cursor: pointer; font-family: 'Orbitron'; font-size: 10px; }
        .hash-btn:hover { background: var(--primary); color: black; }
        .logout-btn { position: absolute; top: 20px; right: 20px; background: #e74c3c; border: none; color: white; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }

        /* Modal CSS */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); justify-content: center; align-items: center; }
        .modal-content { background: var(--card); padding: 30px; border-radius: 15px; border: 2px solid var(--primary); width: 450px; position: relative; }
        .close-btn { position: absolute; right: 20px; top: 10px; font-size: 30px; color: var(--primary); cursor: pointer; }
        .modal-content p { border-bottom: 1px solid #333; padding: 10px 0; font-size: 14px; }
        .modal-content span { color: var(--primary); word-break: break-all; font-family: monospace; }
    </style>
</head>
<body>

    <button id="logoutBtn" class="logout-btn">LOGOUT</button>

    <div class="header">
        <h1>BUILDCHAIN ADMIN PORTAL</h1>
    </div>

    <div class="admin-container">
        <div class="table-section">
            <h2 style="font-family: 'Orbitron'; font-size: 18px;">Tracked Projects</h2>
            <table>
                <thead>
                    <tr>
                        <th>Project Name</th>
                        <th>Workers</th>
                        <th>Simulated Hash</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="projectTableBody">
                    </tbody>
            </table>
        </div>

        <div class="chart-section">
            <h3 style="font-family: 'Orbitron'; color: var(--primary); text-align: center;">Worker Stats</h3>
            <canvas id="workerChart"></canvas>
        </div>
    </div>

    <div id="detailsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="document.getElementById('detailsModal').style.display='none'">&times;</span>
            <h2 style="font-family: 'Orbitron'; color: var(--primary);">Block Details</h2>
            <p>Project: <span id="m-project"></span></p>
            <p>Material Info: <span id="m-material"></span></p>
            <p>Total Workers: <span id="m-workers"></span></p>
            <p>Current Hash: <br><span id="m-hash"></span></p>
            <p>Previous Hash: <br><span id="m-prev" style="color: #777;"></span></p>
            <p>Submitted By: <span id="m-email" style="color: #3498db;"></span></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="admin.js"></script>

</body>
</html>